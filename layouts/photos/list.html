{{ define "main" }}

<div class="picture-grid">
  {{ $pages := where site.RegularPages "Type" "photos" }}
  {{ $paginator := .Paginate ($pages.ByDate.Reverse) 10 }}

  {{ range $paginator.Pages }}
  {{ $img := .Resources.GetMatch "*.jpg" }}
  {{ if $img }}
  {{ $thumb := $img.Fit "500x500" }}
  <div class="picture-item">
    <a href="{{ .Permalink }}">
      <img src="{{ $thumb.RelPermalink }}" alt="{{ .Title }}" loading="lazy" />
    </a>
  </div>
  {{ end }}
  {{ end }}
</div>

{{ template "_internal/pagination.html" . }}

<style>
  .picture-grid {
    margin-top: 10px;
    display: grid;
    grid-gap: 6px;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  }

  .picture-item {
    position: relative;
    overflow: hidden;
    border-radius: 8px;
    cursor: zoom-in;
  }

  .picture-item img {
    width: 100%;
    height: auto;
    object-fit: cover;
    transition: transform .35s ease, box-shadow .35s ease;
    border-radius: 8px;
  }

  .picture-item:hover img {
    transform: scale(1.05);
    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.25);
  }
</style>

{{ end }}